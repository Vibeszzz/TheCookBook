{% extends 'base.html.twig' %}

{% block body %}
    <div class="min-h-screen flex items-start justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 space-x-8">

        <!-- Left: User Profile Card -->
        <div class="bg-white rounded-2xl shadow-lg p-6 w-80 flex flex-col items-center">
            <img src="{{ app.user.profilePicture ? asset('uploads/profile_pictures/' ~ app.user.profilePicture) : asset('img/default-avatar-profile-vector-user-profile.webp') }}"
                 alt="{{ app.user.firstName }}'s Profile Picture"
                 class="w-32 h-32 rounded-full object-cover border-2 border-gray-300 mb-4">

            <h2 class="text-xl font-semibold text-gray-900">{{ app.user.firstName }} {{ app.user.lastName }}</h2>
            <p class="text-gray-500 text-sm">{{ app.user.email }}</p>

            <div class="mt-4 w-full">
                <div class="flex justify-between text-sm text-gray-600">
                    <span>Recipes:</span>
                    <span>{{ app.user.recipes|length }}</span>
                </div>
                <div class="flex justify-between text-sm text-gray-600 mt-1">
                    <span>Comments:</span>
                    <span>{{ app.user.comments|length }}</span>
                </div>
                <div class="flex justify-between text-sm text-gray-600 mt-1">
                    <span>Ratings:</span>
                    <span>{{ app.user.ratings|length }}</span>
                </div>
            </div>
        </div>

        <!-- Right: Edit Profile Form -->
        <div class="bg-white rounded-2xl shadow-lg p-6 w-96">
            <h2 class="text-lg font-semibold text-gray-900 mb-4 text-center">Profiel bewerken</h2>

            {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}

            <div>
                {{ form_label(form.firstName, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                {{ form_widget(form.firstName, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm'}}) }}
                {{ form_errors(form.firstName) }}
            </div>

            <div>
                {{ form_label(form.lastName, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                {{ form_widget(form.lastName, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm'}}) }}
                {{ form_errors(form.lastName) }}
            </div>

            <div>
                {{ form_label(form.email, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm'}}) }}
                {{ form_errors(form.email) }}
            </div>

            <div class="flex justify-center">
                {{ form_widget(form.submit, {'attr': {'class': 'bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2 mt-4 w-full'}}) }}
            </div>

            {{ form_end(form) }}
        </div>

    </div>
{% endblock %}

{% extends 'base.html.twig' %}

{% block body %}

    <div class="max-w-5xl mx-auto px-6 py-10">

        <div class="flex items-center justify-between mb-8">
            <h2 class="text-3xl font-bold text-gray-900">Comments</h2>

            <a href="{{ path('app_make_comment') }}"
               class="inline-block text-white bg-gradient-to-br from-green-400 to-blue-600
                  hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200
                  font-medium rounded-xl text-sm px-4 py-2.5 text-center leading-5 transition">
                Add Comment
            </a>
        </div>

        {% if comments is empty %}
            <p class="text-gray-500 text-lg italic text-center">No comments yet. Be the first to share your thoughts!</p>
        {% endif %}

        <div class="space-y-6">
            {% for comment in comments %}
                <div class="bg-white border border-gray-200 rounded-2xl shadow-sm p-5 flex gap-4">

                    {# USER AVATAR (placeholder with first initial) #}
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg shadow">
                            {{ comment.userComments.firstName|first|upper }}
                        </div>
                    </div>

                    <div class="flex-1">

                        {# USER NAME + DATE #}
                        <div class="flex items-center justify-between mb-1">
                            <h3 class="font-semibold text-gray-900">
                                {{ comment.userComments.firstName }} {{ comment.userComments.lastName }}
                            </h3>

                            <span class="text-xs text-gray-500">
                            {{ comment.createdAt|date('Y-m-d H:i') }}
                        </span>
                        </div>

                        {# CONTENT #}
                        <p class="text-gray-700 leading-relaxed">
                            {{ comment.content }}
                        </p>

                    </div>

                </div>
            {% endfor %}
        </div>

    </div>

{% endblock %}
